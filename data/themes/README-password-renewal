Support for expired passwords
=============================

Intro
=====

The sddm can handle expired passwords.
Support for password renewal is provided with 2 components for greeter themes:

PasswordRenewal.qml: basic dialog for password renewal, password input and confirmation
PasswordConnections.qml: container for password renewal logic, hides signal handling

Usage
=====

For new themes the 2 components have to be included in their Main.qml - see the greeter theme Main.qml:

=== 8< ===

    // container for password renewal logic
    PasswordConnections {
        sddmProp: sddm // fixed
        requestProp: request // fixed
        renewalDialog: renewal // PasswordRenewal item id (see below)
        pwdItem: listView.currentItem // uses listView.currentItem.password
        getsBackFocus: listView // item where focus falls back after dialog closes
        errMsg: errMessage // (text) item which shows errors
        txtMsg: txtMessage // (text) item which shows pam infos
    }

...

                // password renewal dialog
                PasswordRenewal {
                    id: renewal
                    // customize here e.g.:
                    //anchors.horizontalCenter: parent.horizontalCenter
                    //anchors.bottom: usersContainer.top
                    //visible: false
                    //color: "#22888888"
                    //promptColor: "white"
                    //infosColor: "lightcoral"
                }

=== 8< ===

Details
=======

The following qml objects are available in Main.qml,
they are used for password renewal and pam conversation:

Signals (from daemon):
pamConvMsg(pam_msg) - provides infos/errors from (pam) backend conversation to present to user
pamRequest() - new request from (pam) backend, user response required

Property:
request (type AuthRequest) - prompts from (pam) backend with messages from pam_conv

Response (for backend):
sddm.enablePwdRenewal() - theme tells greeter it can handle password renewal (dialog)
sddm.pamResponse(password) - send password response to (pam) backend, i.e. pam_conv
sddm.cancelPamConv() - cancel pam conversation
